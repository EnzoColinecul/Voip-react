{"version":3,"sources":["../node_modules/@ionic/core/dist/esm-es5 lazy /^/.//.*/.entry/.js$/ groupOptions: {} namespace object","../node_modules/ionicons/dist/esm lazy /^/.//.*/.entry/.js$/ include: //.entry/.js$/ exclude: //.system/.entry/.js$/ groupOptions: {} namespace object","types/types.ts","reducers/authReducer.ts","reducers/sipReducer.ts","reducers/uiReducer.ts","store/store.ts","actions/ui.ts","routers/PublicRoute.tsx","routers/PrivateRoute.tsx","helpers/assignStream.ts","server/domain.ts","actions/sip.ts","components/home/KeyPad.tsx","components/home/ModalCall.tsx","pages/Home/Home.tsx","actions/auth.ts","components/LoginSettings.tsx","hooks/useForm.tsx","pages/Login/Login.tsx","routers/AppRouter.tsx","App.tsx","index.tsx"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","keys","Object","module","exports","types","initialState","registerState","user","userAgent","extensionToCall","sessionState","incomingSession","startCall","loading","msgError","showAlert","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","reducers","combineReducers","auth","state","action","type","payload","ui","sip","store","createStore","applyMiddleware","thunk","setError","PublicRoute","isLogged","Component","component","rest","props","to","PrivateRoute","assignStream","stream","element","autoplay","srcObject","playPromise","play","undefined","console","error","catch","onaddtrack","load","onremovetrack","sip_domain","remoteAudio","document","querySelector","localAudio","setExtensionTocall","sipToCall","clearIncomingSession","setInvitation","invitation","handleStateChanges","session","localHTMLMediaElement","remoteHTMLMediaElement","dispatch","stateChange","addListener","SessionState","Initial","Establishing","setSessionState","Established","sessionDescriptionHandler","Web","SessionDescriptionHandler","localMediaStream","remoteMediaStream","Terminating","Terminated","KeyPad","setInputValue","handleCall","numbers","size-md","className","number","onClick","prevState","toString","color","icon","callSharp","laptop","ModalCall","useDispatch","useSelector","fullscreen","size","assertedIdentity","displayName","name","horizontal","volumeHighOutline","micOutline","keypad","bye","Home","useState","inputValue","rejectCallBtn","text","role","handler","reject","answerCallBtn","getState","delegate","onRefer","referral","options","sessionDescriptionHandlerOptions","constraints","audio","video","accept","isOpen","header","subHeader","cssClass","buttons","ellipseSharp","fill","settingsSharp","value","onIonChange","preventDefault","target","placeholder","clearInput","a","UserAgent","makeURI","inviter","Inviter","outgoingSession","invite","login","UA","LoginSettings","setShowModal","handleChange","translucent","slot","arrowBack","position","useForm","formValue","setFormValue","Login","showModal","username","password","formValues","handleInputChange","onDidDismiss","message","duration","required","uri","transportOptions","server","connectionTimeout","traceSip","subString","split","userAgentOptions","authorizationPassword","authorizationUsername","onInvite","registerer","Registerer","start","setTimeout","register","newState","RegistererState","Registered","Unregistered","err","alert","startLoginWithUserAndPassword","expand","AppRouter","setIsLogged","useEffect","exact","path","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"mGAAA,IAAIA,EAAM,CACT,8BAA+B,CAC9B,IACA,GAED,uBAAwB,CACvB,IACA,GAED,uBAAwB,CACvB,IACA,GAED,0BAA2B,CAC1B,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,wBAAyB,CACxB,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,sBAAuB,CACtB,IACA,IAED,uBAAwB,CACvB,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,uBAAwB,CACvB,IACA,IAED,qBAAsB,CACrB,IACA,IAED,mCAAoC,CACnC,IACA,IAED,uBAAwB,CACvB,IACA,IAED,+BAAgC,CAC/B,IACA,IAED,wBAAyB,CACxB,IACA,IAED,yBAA0B,CACzB,IACA,IAED,wBAAyB,CACxB,IACA,IAED,uBAAwB,CACvB,IACA,GAED,uBAAwB,CACvB,IACA,IAED,yBAA0B,CACzB,IACA,GAED,8BAA+B,CAC9B,IACA,IAED,yBAA0B,CACzB,IACA,IAED,uBAAwB,CACvB,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,+BAAgC,CAC/B,IACA,IAED,yBAA0B,CACzB,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,yBAA0B,CACzB,IACA,IAED,yBAA0B,CACzB,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,uBAAwB,CACvB,IACA,IAED,sBAAuB,CACtB,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,uBAAwB,CACvB,IACA,IAED,wBAAyB,CACxB,IACA,IAED,gCAAiC,CAChC,IACA,KAGF,SAASC,EAAoBC,GAC5B,IAAIC,EAAoBC,EAAEJ,EAAKE,GAC9B,OAAOG,QAAQC,UAAUC,MAAK,WAC7B,IAAIC,EAAI,IAAIC,MAAM,uBAAyBP,EAAM,KAEjD,MADAM,EAAEE,KAAO,mBACHF,KAIR,IAAIG,EAAMX,EAAIE,GAAMU,EAAKD,EAAI,GAC7B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","file":"static/js/main.8e44bca0.chunk.js","sourcesContent":["var map = {\n\t\"./ion-action-sheet.entry.js\": [\n\t\t148,\n\t\t5\n\t],\n\t\"./ion-alert.entry.js\": [\n\t\t149,\n\t\t6\n\t],\n\t\"./ion-app_8.entry.js\": [\n\t\t150,\n\t\t7\n\t],\n\t\"./ion-avatar_3.entry.js\": [\n\t\t151,\n\t\t17\n\t],\n\t\"./ion-back-button.entry.js\": [\n\t\t152,\n\t\t18\n\t],\n\t\"./ion-backdrop.entry.js\": [\n\t\t153,\n\t\t43\n\t],\n\t\"./ion-button_2.entry.js\": [\n\t\t154,\n\t\t19\n\t],\n\t\"./ion-card_5.entry.js\": [\n\t\t155,\n\t\t20\n\t],\n\t\"./ion-checkbox.entry.js\": [\n\t\t156,\n\t\t21\n\t],\n\t\"./ion-chip.entry.js\": [\n\t\t157,\n\t\t22\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t158,\n\t\t44\n\t],\n\t\"./ion-datetime_3.entry.js\": [\n\t\t159,\n\t\t10\n\t],\n\t\"./ion-fab_3.entry.js\": [\n\t\t160,\n\t\t23\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t161,\n\t\t45\n\t],\n\t\"./ion-infinite-scroll_2.entry.js\": [\n\t\t162,\n\t\t46\n\t],\n\t\"./ion-input.entry.js\": [\n\t\t163,\n\t\t24\n\t],\n\t\"./ion-item-option_3.entry.js\": [\n\t\t164,\n\t\t25\n\t],\n\t\"./ion-item_8.entry.js\": [\n\t\t165,\n\t\t26\n\t],\n\t\"./ion-loading.entry.js\": [\n\t\t166,\n\t\t27\n\t],\n\t\"./ion-menu_3.entry.js\": [\n\t\t167,\n\t\t28\n\t],\n\t\"./ion-modal.entry.js\": [\n\t\t168,\n\t\t8\n\t],\n\t\"./ion-nav_2.entry.js\": [\n\t\t169,\n\t\t14\n\t],\n\t\"./ion-popover.entry.js\": [\n\t\t170,\n\t\t9\n\t],\n\t\"./ion-progress-bar.entry.js\": [\n\t\t171,\n\t\t29\n\t],\n\t\"./ion-radio_2.entry.js\": [\n\t\t172,\n\t\t30\n\t],\n\t\"./ion-range.entry.js\": [\n\t\t173,\n\t\t31\n\t],\n\t\"./ion-refresher_2.entry.js\": [\n\t\t174,\n\t\t11\n\t],\n\t\"./ion-reorder_2.entry.js\": [\n\t\t175,\n\t\t16\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t176,\n\t\t47\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t177,\n\t\t32\n\t],\n\t\"./ion-searchbar.entry.js\": [\n\t\t178,\n\t\t33\n\t],\n\t\"./ion-segment_2.entry.js\": [\n\t\t179,\n\t\t34\n\t],\n\t\"./ion-select_3.entry.js\": [\n\t\t180,\n\t\t35\n\t],\n\t\"./ion-slide_2.entry.js\": [\n\t\t181,\n\t\t48\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t182,\n\t\t13\n\t],\n\t\"./ion-split-pane.entry.js\": [\n\t\t183,\n\t\t49\n\t],\n\t\"./ion-tab-bar_2.entry.js\": [\n\t\t184,\n\t\t36\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t185,\n\t\t15\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t186,\n\t\t37\n\t],\n\t\"./ion-textarea.entry.js\": [\n\t\t187,\n\t\t38\n\t],\n\t\"./ion-toast.entry.js\": [\n\t\t188,\n\t\t39\n\t],\n\t\"./ion-toggle.entry.js\": [\n\t\t189,\n\t\t12\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t190,\n\t\t50\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 125;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./ion-icon.entry.js\": [\n\t\t191,\n\t\t57\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 127;\nmodule.exports = webpackAsyncContext;","export const types = {\n  authLogin: \"[Auth] Login\",\n  authLogout: \"[Auth] Logout\",\n\n  uiSetError: '[UI] Set Error',\n  uiRemoveError: '[UI] Remove Error',\n\n  uiStartLoading: '[UI] Start Loading',\n  uiFinishLoading: '[UI] Finish Loading',\n\n  uiStartCallAlert: '[UI] Start Call Alert',\n  uiFinishCallAlert: '[UI] Finish Call Alert',\n\n  sipUserAgent: '[SIP] Receive UA',\n  sipStartCalling: '[SIP] Start Calling',\n  sipSetExtensionToCall: '[SIP] Set Extension To Call',\n  sipIncomingCall: '[SIP] Incoming Call',\n  sipStartCommunication: '[SIP] Start Communication',\n  sipFinishCommunication: '[SIP] Finish Communication',\n  sipClearIncomingSession: '[SIP] Clear Incoming Session'\n}","import { types } from \"../types/types\";\n\nconst initialState = {\n  registerState: null,\n  user: null\n}\n\nexport const authReducer = (state: LoginState = initialState, action: LoginAction) => {\n  switch (action.type) {\n    case types.authLogin:\n      return {\n        ...state,\n        user: action.payload.user,\n        registerState: action.payload.registerState\n      }\n    default:\n      return state\n  }\n}","import { UserAgent } from \"sip.js\";\nimport { types } from \"../types/types\";\n\ntype initialState = {\n  userAgent: object | UserAgent,\n  extensionToCall: string | null,\n  sessionState: string | null,\n  startCall: string | null,\n}\n\nconst initialState = {\n  userAgent: {},\n  extensionToCall: null,\n  sessionState: null,\n  incomingSession: null,\n  startCall: ''\n}\n\nexport const sipReducer = (state: SipState = initialState, action: SipAction) => {\n  switch (action.type) {\n    case types.sipUserAgent:\n      return {\n        ...state,\n        userAgent: action.payload\n      }\n    case types.sipStartCalling:\n      return {\n        ...state,\n        sessionState: action.payload\n      }\n    case types.sipSetExtensionToCall:      \n      return {\n        ...state,\n        extensionToCall: action.payload\n      }\n    case types.sipStartCommunication:\n      return {\n        ...state,\n        startCall: action.payload\n      }\n    case types.sipIncomingCall:\n      return {\n        ...state,\n        incomingSession: action.payload\n      }\n    case types.sipClearIncomingSession:\n      return {\n        ...state,\n        incomingSession: null\n      }\n    default:\n      return state\n  }\n}","import { types } from \"../types/types\"\n\nconst initialState = {\n  loading: false,\n  msgError: null,\n  showAlert: false\n}\n\nexport const uiReducer = (state = initialState, action: UiAction) => {\n  switch (action.type) {\n    case types.uiSetError:\n      return {\n        ...state,\n        msgError: action.payload\n      }\n    case types.uiRemoveError:\n      return {\n        ...state,\n        msgError: null\n      }\n    case types.uiStartLoading:\n      return {\n        ...state,\n        loading: true\n      }\n    case types.uiFinishLoading:\n      return {\n        ...state,\n        loading: false\n      }\n    case types.uiStartCallAlert:\n      return {\n        ...state,\n        showAlert: true\n      }\n    case types.uiFinishCallAlert:\n      return {\n        ...state,\n        showAlert: false\n      }\n    default:\n      return state;\n  }\n}","import { applyMiddleware, combineReducers, compose, createStore } from 'redux'\nimport thunk from 'redux-thunk'\nimport { authReducer } from '../reducers/authReducer';\nimport { sipReducer } from '../reducers/sipReducer';\nimport { uiReducer } from '../reducers/uiReducer';\n\ndeclare global {\n  interface Window {\n    __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?: typeof compose;\n  }\n}\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst reducers = combineReducers({\n  auth: authReducer,\n  ui: uiReducer,\n  sip: sipReducer\n})\n\n\nexport const store = createStore(\n  reducers,\n  composeEnhancers(\n    applyMiddleware(thunk)\n  )\n)\n\nexport type RootState = ReturnType<typeof store.getState>\nexport type AppDispatch = typeof store.dispatch","import { types } from \"../types/types\";\n\nexport const startLoading = () => ({\n  type: types.uiStartLoading\n})\n\nexport const finishLoading = () => ({\n  type: types.uiFinishLoading\n})\n\nexport const setError = ( msgError : UiError) => ({\n  type: types.uiSetError,\n  payload: msgError\n})\n\nexport const startAlert = () => ({\n  type: types.uiStartCallAlert\n})\n\nexport const finishAlert = () => ({\n  type: types.uiFinishCallAlert\n})","import React from 'react'\nimport { Redirect, Route } from 'react-router'\n\ndeclare interface Props {\n  islogged: React.ComponentState\n  component: React.Component\n}\n\nconst PublicRoute = ({\n  isLogged,\n  component: Component,\n  ...rest\n}) => {\n  return (\n    <Route {...rest}\n      component={(props) => (\n        (!isLogged)\n          ? (<Component {...props} />)\n          : (<Redirect to='/' />)\n      )}\n    />\n  )\n}\n\nexport default PublicRoute","import React from 'react'\nimport { Redirect, Route } from 'react-router'\n\ndeclare interface Props {\n  islogged: React.ComponentState\n  component: React.Component\n}\n\nconst PrivateRoute = ({\n  isLogged,\n  component: Component,\n  ...rest\n}) => {\n  return (\n    <Route {...rest}\n      component={(props) => (\n        (isLogged)\n          ? (<Component {...props} />)\n          : (<Redirect to='/auth/login' />)\n      )}\n    />\n  )\n}\n\nexport default PrivateRoute\n","export const assignStream = (stream: MediaStream, element: HTMLAudioElement): void => {\n  // Set element source.\n  element.autoplay = true; // Safari does not allow calling .play() from a non user action\n  element.srcObject = stream;\n\n  // Load and start playback of media.\n\n  const playPromise = element.play()\n  if (playPromise !== undefined) {    \n    playPromise\n      .then((): void => {\n        console.error(\"Good!\") \n      })\n      .catch((error: Error) => {\n        console.error(\"Failed to play media\");\n        console.error(error);\n      });\n  }\n\n  // If a track is added, load and restart playback of media.\n  stream.onaddtrack = (): void => {\n    element.load(); // Safari does not work otheriwse\n    element.play().catch((error: Error) => {\n      console.error(\"Failed to play remote media on add track\");\n      console.error(error);\n    });\n  };\n\n  // If a track is removed, load and restart playback of media.\n  stream.onremovetrack = (): void => {\n    element.load(); // Safari does not work otheriwse\n    element.play().catch((error: Error) => {\n      console.error(\"Failed to play remote media on remove track\");\n      console.error(error);\n    })\n  }\n}","export const ws_domain = 'ws://192.168.1.10:8088/ws'\n\nexport const sip_domain = '192.168.1.10:8088'","import { ThunkAction } from \"redux-thunk\";\nimport {\n  Invitation,\n  InvitationAcceptOptions,\n  Inviter,\n  InviterOptions,\n  Referral,\n  Session,\n  SessionState,\n  UserAgent,\n  Web\n} from \"sip.js\";\nimport { RootState } from \"../store/store\";\nimport { assignStream } from \"../helpers/assignStream\";\nimport { sip_domain, ws_domain } from \"../server/domain\";\nimport { startAlert } from \"./ui\";\nimport { types } from \"../types/types\";\n\ntype Actions = { type: 'FOO' } | { type: string; };\n\ntype ThunkResult<R> = ThunkAction<R, RootState, undefined, Actions>;\n\nconst remoteAudio: HTMLAudioElement | null = document.querySelector('#remoteAudio')\nconst localAudio: HTMLAudioElement | null = document.querySelector('#localAudio')\n\nexport const startCall = (sipToCall: string): ThunkResult<void> => {\n  return async (dispatch, getState) => {\n    dispatch(setExtensionTocall(sipToCall))\n    const { userAgent } = getState().sip\n    const { user } = getState().auth\n\n    const target = UserAgent.makeURI(`sip:${sipToCall}@${sip_domain}`);\n    if (!target) {\n      throw new Error(\"Failed to create target URI.\")\n    }\n\n    const inviter = new Inviter(userAgent, target)\n    dispatch(handleStateChanges(inviter, localAudio, remoteAudio))\n    const outgoingSession = inviter\n\n\n    const inviterOptions: InviterOptions = {\n      params: {\n        fromDisplayName: `${user}@${sip_domain}`,\n        fromUri: `sip:${user}@${sip_domain}`\n      }\n    }\n\n    outgoingSession.delegate = {\n      // Handle incoming REFER request.\n      onRefer(referral: Referral): void {\n        // ...\n      },\n    }\n\n    // Send the INVITE request\n    inviter.invite()\n      .then(() => {\n        // INVITE sent\n      })\n      .catch((error: Error) => {\n        // INVITE did not send\n      });\n  }\n}\n\nexport const setExtensionTocall = (sipToCall: string) => ({\n  type: types.sipSetExtensionToCall,\n  payload: sipToCall\n})\n\nexport const startAcceptCall = (invitation: Invitation): ThunkResult<void> => {\n  return (dispatch, getState) => {\n    dispatch(handleStateChanges(invitation, localAudio, remoteAudio))\n    const incomingSession = invitation\n\n\n    // Setup incoming session delegate\n    incomingSession.delegate = {\n      // Handle incoming REFER request.\n      onRefer(referral: Referral): void {\n        // ...\n      }\n    };\n    // Handle incoming session state changes.\n    let constrainsDefault: MediaStreamConstraints = {\n      audio: true,\n      video: false,\n    }\n\n    const options: InvitationAcceptOptions = {\n      sessionDescriptionHandlerOptions: {\n        constraints: constrainsDefault,\n      }\n    }\n    incomingSession.accept(options)\n  }\n}\n\nexport const startRejectCall = (invitation: Invitation): ThunkResult<void> => {\n  return (dispatch) => {\n    invitation.reject()\n    dispatch(clearIncomingSession())\n  }\n}\n\nexport const clearIncomingSession = () => ({\n  type: types.sipClearIncomingSession\n})\n\nexport const setInvitation = (invitation: Invitation) => ({\n  type: types.sipIncomingCall,\n  payload: invitation\n})\n\n\nexport const handleStateChanges = (\n  session: Session,\n  localHTMLMediaElement: HTMLAudioElement | HTMLVideoElement | null,\n  remoteHTMLMediaElement: HTMLAudioElement | HTMLVideoElement | null\n): ThunkResult<void> => {\n  return (dispatch) => {\n    session.stateChange.addListener((state: SessionState) => {\n      console.error(state);\n\n      switch (state) {\n        case SessionState.Initial:\n          break;\n        case SessionState.Establishing:\n          // dispatch() Accion para mostrar modal\n          console.error('SessionState is', state);\n\n          dispatch(setSessionState(SessionState.Establishing))\n          break;\n        case SessionState.Established:\n          dispatch(setSessionState(SessionState.Established))\n          const sessionDescriptionHandler = session.sessionDescriptionHandler;\n          if (!sessionDescriptionHandler || !(sessionDescriptionHandler instanceof Web.SessionDescriptionHandler)) {\n            throw new Error(\"Invalid session description handler.\");\n          }\n          if (localHTMLMediaElement) {\n            assignStream(sessionDescriptionHandler.localMediaStream, localHTMLMediaElement);\n          }\n          if (remoteHTMLMediaElement) {\n            assignStream(sessionDescriptionHandler.remoteMediaStream, remoteHTMLMediaElement);\n          }\n          return SessionState.Established\n          break;\n        case SessionState.Terminating:\n          break;\n        case SessionState.Terminated:\n          dispatch(setSessionState(SessionState.Terminated))\n          break;\n        default:\n          throw new Error(\"Unknown session state.\");\n      }\n    })\n  }\n}\n\nexport const setSessionState = (sessionState: SessionState) => ({\n  type: types.sipStartCalling,\n  payload: sessionState\n})\n\nexport const startHangupCall = (invitation: Invitation): ThunkResult<void> => {\n  return (dispatch) => {\n    invitation.bye()\n    dispatch(clearIncomingSession())\n  }\n}","import { IonButton, IonButtons, IonCol, IonGrid, IonIcon, IonRow } from '@ionic/react'\nimport { callSharp, laptop } from 'ionicons/icons'\nimport React from 'react'\n\ntype HomeProps = {\n  setInputValue: React.Dispatch<React.SetStateAction<string>>,\n  handleCall: () => void\n}\n\nconst KeyPad = ({ setInputValue, handleCall }: HomeProps) => {\n\n  const numbers = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]\n  \n  return (\n    <IonGrid size-md='3'>\n      <IonCol  >\n        <IonRow className=\"ion-justify-content-center\"  >\n          {numbers[0].map(number => (\n            <IonButton\n              onClick={() => setInputValue(prevState => prevState + number.toString())}\n              className=\"keypad-button\"\n              key={number}\n            >\n              {number}\n            </IonButton>\n          ))\n          }\n        </IonRow>\n        <IonRow className=\"ion-justify-content-center\" >\n          {numbers[1].map(number => (\n            <IonButton\n              onClick={() => setInputValue(prevState => prevState + number.toString())}\n              className=\"keypad-button\"\n              key={number}\n            >\n              {number}\n            </IonButton>\n          ))\n          }\n        </IonRow >\n        <IonRow className=\"ion-justify-content-center\" >\n          {numbers[2].map(number => (\n            <IonButton\n              onClick={() => setInputValue(prevState => prevState + number.toString())}\n              className=\"keypad-button\"\n              key={number}\n            >\n              {number}\n            </IonButton>\n          ))\n          }\n        </IonRow>\n        <IonRow className=\"ion-justify-content-center keypad-row\" >\n          <IonButton \n          color=\"success\" \n          className=\"keypad-button\"\n          onClick={handleCall}\n          >\n            <IonIcon  color=\"dark\" icon={callSharp} />\n          </IonButton>\n          <IonButton\n            onClick={() => setInputValue(prevState => prevState + \"0\")}\n            className=\"keypad-button\"\n          >\n            0\n          </IonButton>\n          <IonButton className=\"keypad-button\" >\n            <IonIcon icon={laptop} />\n          </IonButton>\n        </IonRow>\n      </IonCol>\n    </IonGrid>\n  )\n}\n\nexport default KeyPad\n","import React from 'react'\nimport {\n  IonButton,\n  IonCol,\n  IonContent,\n  IonFab,\n  IonFabButton,\n  IonGrid,\n  IonHeader,\n  IonIcon,\n  IonItem,\n  IonLabel,\n  IonList,\n  IonListHeader,\n  IonRow,\n  IonSpinner,\n  IonText,\n  IonTitle,\n  IonToolbar\n} from \"@ionic/react\"\nimport { callSharp, keypad, micCircle, micOutline, volumeHighOutline } from 'ionicons/icons'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { startHangupCall } from '../../actions/sip'\nimport { RootState } from '../../store/store'\n\n\nconst ModalCall = ({ incomingSession }) => {\n  const dispatch = useDispatch()\n  const { sessionState, extensionToCall } = useSelector((state: RootState) => state.sip)\n\n  const handleHangup = () => dispatch(startHangupCall(incomingSession))\n    \n  return (\n    <IonContent fullscreen={true}>\n      <IonTitle className='modal-call-header-title' size='large' >\n        {extensionToCall  ?\n          extensionToCall\n          :\n          incomingSession?.assertedIdentity?.displayName\n        }\n      </IonTitle>\n      <div className='modal-call-title'>\n        <IonText>{sessionState === 'Establishing' ? 'Calling' : 'Established' }</IonText>\n        {sessionState === 'Establishing' &&\n          <IonSpinner className='modal-call-tittle-spinner' name='dots' />\n        }\n      </div>\n      <IonGrid>\n        <IonRow className='modal-row' >\n          <IonCol >\n            <IonFab horizontal='center' >\n              <IonFabButton className=\"modal-fab-button\" >\n                <IonIcon size='large' icon={volumeHighOutline} />\n              </IonFabButton>\n            </IonFab>\n          </IonCol>\n          <IonCol >\n            <IonFab horizontal='center' >\n              <IonFabButton className=\"modal-fab-button\" >\n                <IonIcon size='large' icon={micOutline} />\n              </IonFabButton>\n            </IonFab>\n          </IonCol>\n          <IonCol>\n            <IonFab horizontal='center' >\n              <IonFabButton className=\"modal-fab-button\" >\n                <IonIcon size='large' icon={keypad} />\n              </IonFabButton>\n            </IonFab>\n          </IonCol>\n        </IonRow>\n        <IonRow className='modal-row' >\n          <IonCol  >\n            <IonFab horizontal='center' color='danger' >\n              <IonFabButton onClick={handleHangup} className=\"modal-fab-button\" color='danger' >\n                <IonIcon className=\"icon-transform\" icon={callSharp} />\n              </IonFabButton>\n            </IonFab>\n          </IonCol>\n        </IonRow>\n      </IonGrid>\n    </IonContent>\n  )\n}\n\nexport default ModalCall\n","import {\n  IonAlert,\n  IonButton,\n  IonCard,\n  IonCardContent,\n  IonCardHeader,\n  IonCardTitle,\n  IonCol,\n  IonContent,\n  IonGrid,\n  IonHeader,\n  IonIcon,\n  IonInput,\n  IonItem,\n  IonList,\n  IonModal,\n  IonPage,\n  IonRow,\n  IonTitle,\n  IonToast,\n  IonToolbar\n} from '@ionic/react';\nimport { ellipseSharp, keypad, settingsSharp } from 'ionicons/icons';\nimport { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { startCall, startAcceptCall, startRejectCall } from '../../actions/sip'\nimport { finishAlert, setError, startAlert } from '../../actions/ui'\nimport { RootState } from '../../store/store';\nimport ExploreContainer from '../../components/ExploreContainer';\nimport KeyPad from '../../components/home/KeyPad';\nimport ModalCall from '../../components/home/ModalCall';\nimport './Home.css';\n\nconst Home: React.FC = () => {\n\n  const [inputValue, setInputValue] = useState<string | null>('')\n  const { msgError, showAlert } = useSelector((state: RootState) => state.ui)\n  const { incomingSession, sessionState } = useSelector((state: RootState) => state.sip)\n\n  const dispatch = useDispatch()\n\n  const handleAnswerCall = () => dispatch(startAcceptCall(incomingSession))\n\n  const handlerRejectCall = () => dispatch(startRejectCall(incomingSession))\n\n  const handleInputChange = (e) => {\n    e.preventDefault()\n    setInputValue(e.target.value)\n  }\n\n  const handleCall = () => {\n    if (inputValue) {\n      dispatch(startCall(inputValue))\n    } else {\n      dispatch(setError('Please enter a number to call'))\n    }\n  }\n\n  const rejectCallBtn = {\n    text: 'Reject Call',\n    role: 'reject',\n    handler: handlerRejectCall\n  }\n\n  const answerCallBtn = {\n    text: 'Accept',\n    handler: handleAnswerCall\n  }\n\n  return (\n    <>\n      <IonAlert\n        isOpen={incomingSession !== null}\n        header={'Incoming Call'}\n        subHeader={incomingSession && `From internal ${incomingSession.assertedIdentity?.displayName}`}\n        cssClass='my-custom-class '\n        buttons={[\n          rejectCallBtn,\n          answerCallBtn\n        ]}\n      />\n      <IonModal isOpen={sessionState === 'Establishing' || sessionState === 'Established'}>\n        <ModalCall incomingSession={incomingSession} />\n      </IonModal>\n      <IonPage>\n        <IonHeader>\n          <IonToolbar>\n            <div className=\"header-container\">\n              <IonTitle >\n                Status: Online\n            </IonTitle>\n              <IonIcon size=\"small\" color=\"success\" icon={ellipseSharp} />\n            </div>\n          </IonToolbar>\n        </IonHeader>\n        <IonContent className=\"ion-justify-content-center\" color=\"primary\"  >\n          <IonCard className=\"md ion-margin-horizontal\" >\n            <IonCardContent>\n              <IonCardHeader >\n                <IonButton\n                  fill=\"clear\"\n                >\n                  <IonIcon color=\"dark\" icon={settingsSharp}></IonIcon>\n                </IonButton>\n              </IonCardHeader>\n              <IonItem color=\"light\" >\n                <IonInput\n                  className=\"input-keypad\"\n                  value={inputValue}\n                  onIonChange={handleInputChange}\n                  type=\"number\"\n                  color=\"dark\"\n                  placeholder=\"Ingrese numero de telefono\"\n                  clearInput\n                />\n              </IonItem>\n              <IonGrid size-md=\"6\">\n                <div className=\"keypad-container\">\n                  <KeyPad setInputValue={setInputValue} handleCall={handleCall} />\n                </div>\n              </IonGrid>\n            </IonCardContent>\n          </IonCard>\n        </IonContent>\n      </IonPage>\n    </>\n  );\n};\n\nexport default Home;\n","import { types } from \"../types/types\"\nimport {\n  Invitation,\n  InvitationAcceptOptions,\n  Referral,\n  Registerer,\n  RegistererState,\n  Session,\n  SessionState,\n  UserAgent,\n  UserAgentOptions,\n  Web\n} from 'sip.js'\nimport { setError, startLoading, finishLoading } from \"./ui\"\nimport { assignStream } from '../helpers/assignStream'\nimport { createElement } from \"react\"\nimport { TransportOptions } from \"sip.js/lib/platform/web\"\nimport { setInvitation } from \"./sip\"\nimport { ThunkAction } from \"redux-thunk\"\nimport { RootState } from \"../store/store\"\nimport { ws_domain } from \"../server/domain\"\n\ntype Actions = { type: 'FOO' } | { type: string};\n\ntype ThunkResult<R> = ThunkAction<R, RootState, undefined, Actions>;\n\nexport const startLoginWithUserAndPassword = (user: string, password: string): ThunkResult<void> => {\n\n  return async (dispatch) => {\n    dispatch(startLoading())\n    const uri = UserAgent.makeURI(`sip:${user}`)\n    const transportOptions: TransportOptions = {\n      server: ws_domain,\n      connectionTimeout: 60 * 10,\n      traceSip: true,\n    }\n\n    let subString: string = \"\"\n\n    if (!uri) {\n      throw new Error('Failed to create URI')\n    } else {\n      subString = user.split('@')[0]\n    }\n\n    const userAgentOptions: UserAgentOptions = {\n      uri,\n      transportOptions,\n      authorizationPassword: password,\n      authorizationUsername: subString,\n      displayName: subString,\n      delegate: {\n        onInvite: (invitation) => dispatch(setInvitation(invitation))\n      }\n    }\n\n    const userAgent = new UserAgent(userAgentOptions)\n\n    const registerer = new Registerer(userAgent)\n\n    userAgent.start().then(() => {\n      setTimeout(() => {\n        registerer.register()\n        registerer.stateChange.addListener((newState: RegistererState) => {\n          switch (newState) {\n            case RegistererState.Initial:\n              break;\n            case RegistererState.Registered:\n              dispatch(login(subString, RegistererState.Registered))\n              dispatch(UA(userAgent))\n              break;\n            case RegistererState.Unregistered:\n              dispatch(setError(`Ingreso fallido, compruebe los datos ingresados SIP:${RegistererState.Unregistered}`))\n              break;\n            case RegistererState.Terminated:\n              break;\n            default:\n              break;\n          }\n        })\n        dispatch(finishLoading())\n      }, 1000);\n    }).catch((err: Error) => {\n      alert(err);\n    })\n  }\n}\n\nexport const login = (user: string, registerState: string) => ({\n  type: types.authLogin,\n  payload: {\n    user,\n    registerState,\n  }\n})\n\nexport const UA = (userAgent: UserAgent) => ({\n  type: types.sipUserAgent,\n  payload: userAgent\n})","import {\n  IonBackButton,\n  IonButton,\n  IonButtons,\n  IonCol,\n  IonContent,\n  IonHeader,\n  IonIcon,\n  IonInput,\n  IonItem,\n  IonLabel,\n  IonList,\n  IonRow,\n  IonTitle,\n  IonToolbar\n} from \"@ionic/react\"\nimport clone from \"clone\"\nimport { arrowBack } from \"ionicons/icons\"\nimport React, { useState } from \"react\"\n\ntype LoginSettingsProps = {\n  setShowModal: Function\n}\n\nconst LoginSettings: React.FC<LoginSettingsProps> = ({ setShowModal }) => {\n\n  const handleChange = (e: any) => {\n    const { name, value } = e.target\n  }\n\n  return (\n    <>\n      <IonHeader translucent>\n        <IonToolbar>\n          <IonButtons slot='start' >\n            <IonButton onClick={() => setShowModal(false)}>\n              <IonIcon icon={arrowBack}/>\n            </IonButton>\n          </IonButtons>\n          <IonTitle>SIP Settings</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent>\n        <IonList>\n          <IonItem>\n            <IonLabel position='floating'>SIP URI</IonLabel>\n            <IonInput\n              name='uri'\n              onIonChange={handleChange}\n            />\n          </IonItem>\n          <IonItem>\n            <IonLabel position='floating'>SIP password</IonLabel>\n            <IonInput\n              name='password'\n              onIonChange={handleChange}\n            />\n          </IonItem>\n          <IonItem>\n            <IonLabel position='floating'>WebSocket URI</IonLabel>\n            <IonInput\n              name='wss'\n              onIonChange={handleChange}\n            />\n          </IonItem>\n          <IonRow>\n            <IonCol className='ion-text-center'>\n              <IonButton color='danger' fill='solid' >\n                Cancel\n            </IonButton>\n            </IonCol>\n            <IonCol className='ion-text-center'>\n              <IonButton color='primary' fill='solid' >\n                Confirm\n            </IonButton>\n            </IonCol>\n          </IonRow>\n        </IonList>\n      </IonContent>\n    </>\n  )\n}\n\nexport default LoginSettings","import { useState } from \"react\"\n\ntype initialState = {\n  initialState: object\n}\n\nconst useForm = (initialState) => {\n\n  const [formValue, setFormValue] = useState(initialState)\n\n  const handleInputChange = ({ target }) => {\n    setFormValue({\n      ...formValue,\n      [target.name]: target.value\n    })\n  }\n\n  const reset = () => {\n    setFormValue(initialState)\n  }\n\n  return [formValue, handleInputChange, reset]\n}\n\nexport default useForm\n","import React, { ComponentProps, FunctionComponent, SetStateAction, useEffect, useState } from 'react'\nimport PropTypes from 'prop-types'\nimport {\n  IonButton,\n  IonCard,\n  IonCardContent,\n  IonCardHeader,\n  IonCardTitle,\n  IonCol,\n  IonContent,\n  IonGrid,\n  IonIcon,\n  IonInput,\n  IonItem,\n  IonLabel,\n  IonModal,\n  IonRow,\n  IonToast\n} from \"@ionic/react\"\nimport { Dispatch } from 'redux'\nimport { RootStateOrAny, useDispatch, useSelector } from 'react-redux'\nimport { startLoginWithUserAndPassword } from '../../actions/auth'\nimport { settingsSharp } from 'ionicons/icons'\nimport LoginSettings from '../../components/LoginSettings'\nimport './Login.css'\nimport useForm from '../../hooks/useForm'\nimport { setError } from '../../actions/ui'\n\nexport interface LoginSettings {\n  settingsLog: any;\n  showSettings: boolean;\n  errors: any;\n  name?: string | null;\n}\n\n\nconst Login = () => {\n\n  const dispatch: Dispatch<any> = useDispatch()\n  const { msgError } = useSelector((state: RootStateOrAny) => state.ui)\n\n  const [showModal, setShowModal] = useState(false)\n  const [formValues, handleInputChange] = useForm({\n    username: \"103@192.168.1.10:8088\",\n    password: \"enzo103\"\n  })\n\n  const { username, password } = formValues\n\n  const handleLogin = (e) => {\n    e.preventDefault()\n    dispatch(startLoginWithUserAndPassword(username, password))\n  }\n\n  return (\n    <>\n      <IonToast\n        isOpen={msgError !== null}\n        onDidDismiss={() => dispatch(setError(null)) }\n        message={msgError}\n        position=\"top\"\n        duration={5000}\n      />\n      <IonModal onDidDismiss={() => setShowModal(false)} isOpen={showModal}>\n        <LoginSettings setShowModal={setShowModal} />\n      </IonModal>\n      <IonContent color='primary'>\n        <IonCard className=\"md ion-margin-horizontal\" >\n          <IonCardContent>\n            <IonCardHeader>\n              <IonCardTitle>Login</IonCardTitle>\n              <IonButton\n                fill='clear'\n                onClick={() => setShowModal(true)}\n              >\n                <IonIcon color='dark' icon={settingsSharp}></IonIcon>\n              </IonButton>\n            </IonCardHeader>\n            <IonGrid size-md='6'>\n              <IonRow >\n                <IonCol  >\n                  <IonLabel color='primary'>Ingrese Datos de Usuario</IonLabel>\n                  <IonItem color='light'>\n                    <IonInput\n                      onIonChange={handleInputChange}\n                      name='username'\n                      value={username}\n                      type='text'\n                      placeholder='Usuario@PBX/VoIP'\n                      color={('dark')}\n                      required\n                      clearInput\n                    />\n                  </IonItem>\n                  <IonLabel color='primary'>Ingrese Contraseña</IonLabel>\n                  <IonItem color='light'>\n                    <IonIcon color='light' name=\"eye-outline\"></IonIcon>\n                    <IonInput\n                      onIonChange={handleInputChange}\n                      name='password'\n                      value={password}\n                      type='password'\n                      placeholder='Contraseña'\n                      required\n                      clearInput\n                    />\n                  </IonItem>\n                  <IonButton\n                    onClick={handleLogin}\n                    expand='block'\n                  >\n                    Ingresar\n                </IonButton>\n                </IonCol>\n              </IonRow>\n            </IonGrid>\n          </IonCardContent>\n        </IonCard>\n      </IonContent>\n    </>\n  )\n}\n\nexport default Login\n","import React, { useEffect, useState } from 'react'\nimport {\n  IonAlert,\n  IonLoading,\n  IonRedirect,\n  IonRouterOutlet,\n  IonToast\n} from '@ionic/react'\nimport { IonReactRouter } from '@ionic/react-router'\nimport { Redirect, Route, Switch } from 'react-router'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { RootState } from '../store/store'\nimport { finishAlert, setError } from '../actions/ui'\nimport PublicRoute from './PublicRoute'\nimport PrivateRoute from './PrivateRoute'\nimport Home from '../pages/Home/Home'\nimport Login from '../pages/Login/Login'\n\nimport './index.css'\n\nconst AppRouter = () => {\n  const [isLogged, setIsLogged] = useState<boolean>(false)\n  const { msgError, loading, showAlert } = useSelector((state: RootState) => state.ui)\n  const { registerState } = useSelector((state: RootState) => state.auth)\n\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    setIsLogged(false)\n    if (registerState === 'Registered') {\n      setIsLogged(true)\n    }\n  }, [registerState])\n\n  return (\n    <>\n      <IonToast\n        isOpen={msgError !== null}\n        onDidDismiss={() => dispatch(setError(null))}\n        message={msgError}\n        position=\"top\"\n        duration={2000}\n        color=\"light\"\n      />\n\n      <IonLoading isOpen={loading} message=\"Espere...\" duration={4000} />\n      <IonReactRouter>\n        <Switch>\n          <PrivateRoute\n            exact\n            path='/'\n            isLogged={isLogged}\n            component={Home}\n          />\n          <PublicRoute\n            path='/auth/login'\n            isLogged={isLogged}\n            component={Login}\n          />\n          <Redirect to='/' />\n        </Switch>\n      </IonReactRouter>\n    </>\n  )\n}\n\nexport default AppRouter\n","import { Redirect, Route } from 'react-router-dom';\nimport { IonApp, IonNav, IonRouterOutlet, IonToast } from '@ionic/react';\nimport { IonReactRouter } from '@ionic/react-router';\nimport Home from './pages/Home/Home';\nimport Login from './pages/Login/Login';\nimport Test from './pages/Test/Test';\n\n/* Core CSS required for Ionic components to work properly */\nimport '@ionic/react/css/core.css';\n\n/* Basic CSS for apps built with Ionic */\nimport '@ionic/react/css/normalize.css';\nimport '@ionic/react/css/structure.css';\nimport '@ionic/react/css/typography.css';\n\n/* Optional CSS utils that can be commented out */\nimport '@ionic/react/css/padding.css';\nimport '@ionic/react/css/float-elements.css';\nimport '@ionic/react/css/text-alignment.css';\nimport '@ionic/react/css/text-transformation.css';\nimport '@ionic/react/css/flex-utils.css';\nimport '@ionic/react/css/display.css';\n\n/* Theme variables */\nimport './theme/variables.css';\nimport { RootStateOrAny, useSelector } from 'react-redux';\nimport AppRouter from './routers/AppRouter';\n\nconst App: React.FC = () => {\n\n  return (\n    <IonApp>\n      <IonNav />\n      <AppRouter />\n    </IonApp>\n  )\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { store } from './store/store'\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}